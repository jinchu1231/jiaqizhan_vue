(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f5cb4cf","chunk-23687759"],{1042:function(e,t,i){"use strict";i("7f9d")},"11d5":function(e,t,i){e.exports=i.p+"static/img/query-noData.a2c7c515.png"},2638:function(e,t,i){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t,i=1;i<arguments.length;i++)for(var n in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.apply(this,arguments)}var a=["attrs","props","domProps"],o=["class","style","directives"],l=["on","nativeOn"],s=function(e){return e.reduce((function(e,t){for(var i in t)if(e[i])if(-1!==a.indexOf(i))e[i]=n({},e[i],t[i]);else if(-1!==o.indexOf(i)){var s=e[i]instanceof Array?e[i]:[e[i]],c=t[i]instanceof Array?t[i]:[t[i]];e[i]=[].concat(s,c)}else if(-1!==l.indexOf(i))for(var _ in t[i])if(e[i][_]){var f=e[i][_]instanceof Array?e[i][_]:[e[i][_]],d=t[i][_]instanceof Array?t[i][_]:[t[i][_]];e[i][_]=[].concat(f,d)}else e[i][_]=t[i][_];else if("hook"===i)for(var u in t[i])e[i][u]=e[i][u]?r(e[i][u],t[i][u]):t[i][u];else e[i]=t[i];else e[i]=t[i];return e}),{})},r=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=s},"30e7":function(e,t,i){"use strict";i("e9f0")},"37a8":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["general"===e.formConf.popupType&&e.dialogLoading?[i("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:e.dataForm.id?"编辑":"新建","close-on-click-modal":!1,visible:e.visible,"lock-scroll":"",width:e.formConf.generalWidth},on:{"update:visible":function(t){e.visible=t}}},[e.loading?e._e():i("parser",{key:e.key,ref:"dynamicForm",attrs:{"form-conf":e.formConf},on:{submit:e.submitForm}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[(e.formConf.hasPrintBtn&&e.formConf.printId&&e.dataForm.id,e._e()),i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.formConf.cancelButtonText||"取 消"))]),i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("\n          "+e._s(e.formConf.confirmButtonText||"确 定"))])],2)],1)]:e._e(),"fullScreen"===e.formConf.popupType?[i("transition",{attrs:{name:"el-zoom-in-center"}},[i("div",{staticClass:"JNPF-preview-main"},[i("div",{staticClass:"JNPF-common-page-header"},[i("el-page-header",{attrs:{content:e.dataForm.id?"编辑":"新建"},on:{back:e.goBack}}),i("div",{staticClass:"options"},[(e.formConf.hasPrintBtn&&e.formConf.printId&&e.dataForm.id,e._e()),i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("\n              "+e._s(e.formConf.confirmButtonText||"确 定"))]),i("el-button",{on:{click:e.goBack}},[e._v(e._s(e.formConf.cancelButtonText||"取 消"))])],2)],1),e.loading?e._e():i("div",{staticClass:"dynamic-form-main",style:{margin:"0 auto",width:e.formConf.fullScreenWidth}},[i("parser",{key:e.key,ref:"dynamicForm",attrs:{"form-conf":e.formConf},on:{submit:e.submitForm}})],1)])])]:e._e(),"drawer"===e.formConf.popupType?[i("el-drawer",{staticClass:"JNPF-common-drawer",attrs:{title:e.dataForm.id?"编辑":"新建",visible:e.visible,wrapperClosable:!1,size:e.formConf.drawerWidth,"append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[i("div",{staticClass:"JNPF-flex-main"},[i("div",{staticClass:"dynamicForm"},[e.loading?e._e():i("parser",{key:e.key,ref:"dynamicForm",attrs:{"form-conf":e.formConf},on:{submit:e.submitForm}})],1),i("div",{staticClass:"drawer-footer"},[(e.formConf.hasPrintBtn&&e.formConf.printId&&e.dataForm.id,e._e()),i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.formConf.cancelButtonText||"取 消"))]),i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("\n            "+e._s(e.formConf.confirmButtonText||"确 定"))])],2)])])]:e._e(),i("print-browse",{attrs:{visible:e.printBrowseVisible,id:e.formConf.printId,formId:e.dataForm.id},on:{"update:visible":function(t){e.printBrowseVisible=t}}})],2)},a=[],o=i("5530"),l=i("ef22"),s=i("49aa"),r=i("6637"),c=i("ed08"),_={components:{Parser:s["a"],PrintBrowse:r["a"]},data:function(){return{visible:!1,key:+new Date,formConf:{},dataForm:{id:"",data:""},modelId:"",formData:{},btnLoading:!1,loading:!0,isPreview:!1,useFormPermission:!1,printBrowseVisible:!1,formOperates:[],dialogLoading:!1}},methods:{goBack:function(){this.$emit("refreshDataList")},print:function(){if(this.isPreview)return this.$message({message:"功能预览不支持打印",type:"warning"});this.printBrowseVisible=!0},init:function(e,t,i,n,a){var s=this;this.formConf=Object(c["b"])(e),this.modelId=t,this.isPreview=n,this.useFormPermission=a,this.dataForm.id=i||"",this.getFormOperates(),this.loading=!0,this.dialogLoading=!1,this.$nextTick((function(){if(s.dataForm.id){var e={modelId:t,id:i,type:2};s.$store.commit("generator/SET_DYNAMIC_MODEL_EXTRA",e),Object(l["r"])(t,s.dataForm.id).then((function(e){s.dataForm=e.data,s.dataForm.data&&(s.formData=Object(o["a"])(Object(o["a"])({},JSON.parse(s.dataForm.data)),{},{id:s.dataForm.id}),s.fillFormData(s.formConf,s.formData),s.dialogLoading=!0,s.$nextTick((function(){s.visible=!0,s.loading=!1})))}))}else s.$store.commit("generator/SET_DYNAMIC_MODEL_EXTRA",{}),s.formData={},s.fillFormData(s.formConf,s.formData),s.dialogLoading=!0,s.$nextTick((function(){s.visible=!0,s.loading=!1}));s.key=+new Date}))},getFormOperates:function(){if(!this.isPreview&&this.useFormPermission){var e=this.$store.getters.permissionList,t=this.$route.meta.modelId,i=e.filter((function(e){return e.modelId===t}));this.formOperates=i[0]&&i[0].form?i[0].form:[]}},fillFormData:function(e,t){var i=this,n=function e(n,a){for(var o=function(){var o=n[l];if(o.__vModel__){var s=t.hasOwnProperty(o.__vModel__)?t[o.__vModel__]:o.__config__.defaultValue;if(o.__config__.isSubTable||(o.__config__.defaultValue=s),!i.isPreview&&i.useFormPermission){var r=o.__config__.isSubTable?a.__vModel__+"-"+o.__vModel__:o.__vModel__,c=!0;i.formOperates&&i.formOperates.length&&(c=!i.formOperates.some((function(e){return e.enCode===r}))),c=o.__config__.noShow?o.__config__.noShow:c,i.$set(o.__config__,"noShow",c)}}o.__config__&&o.__config__.children&&Array.isArray(o.__config__.children)&&e(o.__config__.children,o)},l=0;l<n.length;l++)o()};n(e.fields),e.formData=t},submitForm:function(e,t){var i=this;if(e){this.btnLoading=!0;var n=Object(o["a"])(Object(o["a"])({},this.formData),e);this.dataForm.data=JSON.stringify(n);var a=this.dataForm.id?l["y"]:l["i"];a(this.modelId,this.dataForm).then((function(e){i.$message({message:e.msg,type:"success",duration:1500,onClose:function(){t&&"function"===typeof t&&t(),i.visible=!1,i.btnLoading=!1,i.$emit("refreshDataList",!0)}})})).catch((function(){i.btnLoading=!1}))}},dataFormSubmit:function(){if(this.isPreview)return this.$message({message:"功能预览不支持数据保存",type:"warning"});this.$refs.dynamicForm&&this.$refs.dynamicForm.submitForm()}}},f=_,d=i("2877"),u=Object(d["a"])(f,n,a,!1,null,null,null);t["default"]=u.exports},"386b":function(e,t,i){var n=i("5ca1"),a=i("79e5"),o=i("be13"),l=/"/g,s=function(e,t,i,n){var a=String(o(e)),s="<"+t;return""!==i&&(s+=" "+i+'="'+String(n).replace(l,"&quot;")+'"'),s+">"+a+"</"+t+">"};e.exports=function(e,t){var i={};i[e]=t(s),n(n.P+n.F*a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",i)}},"4f5eb":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{class:e.formConf.formStyle?e.formConf.formStyle+" word-from-detail":"",attrs:{gutter:e.formConf.gutter}},[i("el-form",{ref:e.formConf.formRef,attrs:{size:e.formConf.size,"label-position":e.formConf.labelPosition,"label-width":e.formConf.labelWidth+"px"}},e._l(e.formConf.fields,(function(t,n){return i("Item",e._g(e._b({key:n,attrs:{item:t,formValue:e.formValue}},"Item",e.$props,!1),e.$listeners))})),1)],1)},a=[],o=i("7bec"),l={components:{Item:o["default"]},props:{formConf:{type:Object,required:!0},relationData:{type:Object,default:function(){}},formValue:{type:Object},loading:{type:Boolean,default:!1}}},s=l,r=i("2877"),c=Object(r["a"])(s,n,a,!1,null,null,null);t["default"]=c.exports},"6ba2":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[[i("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"详情","close-on-click-modal":!1,visible:e.visible,"lock-scroll":"",width:e.formData.generalWidth,"append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading||e.mainLoading,expression:"loading || mainLoading"}],staticClass:"dynamicDetail"},[e.loading?e._e():i("Parser",{attrs:{formConf:e.formData,formValue:e.formValue}})],1)])],e.detailVisible?i("Detail",{ref:"Detail",on:{close:function(t){e.detailVisible=!1}}}):e._e(),i("print-browse",{attrs:{visible:e.printBrowseVisible,id:e.formData.printId,formId:e.dataForm.id},on:{"update:visible":function(t){e.printBrowseVisible=t}}})],2)},a=[],o=(i("6762"),i("2fdb"),i("28a5"),i("ac6a"),i("f8c0")),l=i("ed08"),s=i("4f5eb"),r=i("6637"),c={name:"Detail",components:{Parser:s["default"],PrintBrowse:r["a"]},data:function(){return{visible:!1,dataForm:{id:"",data:""},modelId:"",formData:{},formValue:{},loading:!0,mainLoading:!1,detailVisible:!1,useFormPermission:!1,printBrowseVisible:!1,formOperates:[]}},methods:{goBack:function(){this.$emit("close")},init:function(e,t,i,n){var a=this;this.formData=Object(l["b"])(e),this.modelId=t,this.dataForm.id=i||"",this.loading=!0,this.$nextTick((function(){if(a.dataForm.id){var e={modelId:t,id:i,type:2};a.$store.commit("generator/SET_DYNAMIC_MODEL_EXTRA",e),Object(o["e"])(t,a.dataForm.id,n).then((function(e){a.dataForm=e.data,a.dataForm.data&&(a.formValue=JSON.parse(a.dataForm.data),a.fillFormData(a.formData,a.formValue),a.initRelationForm(a.formData.fields),a.visible=!0)}))}else a.formValue={},a.loading=!1,a.visible=!1,a.$emit("close")}))},initRelationForm:function(e){var t=this;e.forEach((function(i){var n=i.__config__;if("relationFormAttr"==n.jnpfKey||"popupAttr"==n.jnpfKey){var a=i.relationField.split("_jnpfTable_")[0];e.forEach((function(e){var t=Array.isArray(e.__config__.visibility)&&!e.__config__.visibility.includes("pc");a==e.__vModel__&&(t||e.__config__.noShow)&&(i.__config__.noShow=!0)}))}i.__config__.children&&i.__config__.children.length&&t.initRelationForm(i.__config__.children)}))},toDetail:function(e){var t=this;e.__config__.defaultValue&&(this.mainLoading=!0,getConfigData(e.modelId).then((function(i){if(t.mainLoading=!1,i.data&&i.data.formData){var n=JSON.parse(i.data.formData);n.popupType=t.formData.popupType,t.detailVisible=!0,t.$nextTick((function(){t.$refs.Detail.init(n,e.modelId,e.__config__.defaultValue)}))}})).catch((function(){t.mainLoading=!1})))},getFormOperates:function(){if(this.useFormPermission){var e=this.$store.getters.permissionList,t=this.$route.meta.modelId,i=e.filter((function(e){return e.modelId===t}));this.formOperates=i[0]&&i[0].form?i[0].form:[]}},fillFormData:function(e,t){var i=this,n=function e(n,a){for(var o=0;o<n.length;o++){var l=n[o];if(l.__vModel__)if("relationForm"===l.__config__.jnpfKey||"popupSelect"===l.__config__.jnpfKey)l.__config__.defaultValue=t[l.__vModel__+"_id"],i.$set(l,"name",t[l.__vModel__]||"");else{var s=t.hasOwnProperty(l.__vModel__)?t[l.__vModel__]:l.__config__.defaultValue;l.__config__.defaultValue=s}else["relationFormAttr","popupAttr"].includes(l.__config__.jnpfKey)&&(l.__config__.defaultValue=t[l.relationField.split("_jnpfTable_")[0]+"_"+l.showField]);l.__config__&&l.__config__.children&&Array.isArray(l.__config__.children)&&e(l.__config__.children,l)}};n(e.fields),this.loading=!1}}},_=c,f=i("2877"),d=Object(f["a"])(_,n,a,!1,null,null,null);t["default"]=d.exports},"7b88":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"lock-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.formPassUse,expression:"formPassUse==1"}],staticClass:" lock-form"},[i("el-input",{attrs:{placeholder:"请输入验证码","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[i("el-button",{attrs:{slot:"append",icon:"ace-icon el-icon-unlock",loading:e.passwordLoading},on:{click:e.handleLogin},slot:"append"})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.formPassUse,expression:"formPassUse==0"}],staticClass:"JNPF-common-layout"},[i("div",{staticClass:"main"},[i("div",{staticClass:"form-top"},[i("p",[e._v(e._s(e.config.fullName))])]),i("el-popover",{attrs:{placement:"bottom-end",width:"180",trigger:"hover"}},[i("div",{staticClass:"qrcode"},[i("p",[e._v("扫描二维码，分享此链接")]),i("div",{ref:"qrCode",staticStyle:{display:"inline-block",margin:"2px 0px"},attrs:{id:"qrcode"}})]),i("div",{staticClass:"form-use-icon float-left ym-custom ym-custom-qrcode ",attrs:{slot:"reference"},on:{mouseover:e.getQRimg},slot:"reference"})]),i("div",{staticClass:"dynamic-form-center"},[i("div",{staticClass:"dynamic-form-main",style:{margin:"0 auto",width:e.formConf.fullScreenWidth}},[e.loading?e._e():i("parser",{key:e.key,ref:"dynamicForm",attrs:{"form-conf":e.formConf},on:{submit:e.submitForm}})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("\n            "+e._s(e.formConf.confirmButtonText||"确 定"))]),i("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)])],1)])])},a=[],o=(i("ac6a"),i("6762"),i("49aa")),l=i("226a"),s=i("5451"),r=i("f8c0"),c=i("d044"),_=i.n(c),f=i("8237"),d=i.n(f),u=function(e){if(!e.__config__||!e.__config__.jnpfKey)return!0;var t=e.__config__.jnpfKey,i=["input","textarea","inputNumber","switch","datePicker","timePicker","colorPicker","rate","slider","editor","link","text","alert","table","collapse","collapseItem","tabItem","tab","row","card","groupTitle","divider","tableGrid","tableGridTr","tableGridTd","sign","rate","slider","iframe","location"],n=["radio","checkbox","select","cascader","treeSelect"];return!!(i.includes(t)||n.includes(t)&&"static"===e.__config__.dataType)},p={components:{Parser:o["a"],FlowBox:l["default"]},props:["config","modelId","isPreview","encryption"],data:function(){return{visible:!1,dataForm:{data:""},btnLoading:!1,loading:!0,key:+new Date,formConf:{},flowVisible:!1,flowListVisible:!1,flowList:[],flowItem:{},formLink:"",formPassUse:1,password:"",passwordLoading:!1,id:""}},created:function(){var e=this;Object(r["c"])(this.modelId,this.encryption).then((function(t){e.formLink=t.data.formLink||"",e.id=t.data.id||0,e.formPassUse=t.data.formPassUse||0,1!=e.formPassUse&&e.init()}))},methods:{init:function(e){var t=this;this.config.enableFlow?this.getFlowList(e):(this.formConf=JSON.parse(this.config.formData),this.formConf.fields=this.recurSiveFilter(this.formConf.fields),this.fillFormData(this.formConf,{}),this.loading=!0,this.$nextTick((function(){t.visible=!0,t.loading=!1,t.key=+new Date})))},fillFormData:function(e,t,i){var n=this,a=function e(t,i){for(var a=0;a<t.length;a++){var o=t[a];if(o.__vModel__&&o.__config__.defaultCurrent){if("datePicker"===o.__config__.jnpfKey){var l=o.format,s=n.jnpf.toDate((new Date).getTime(),l),r="yyyy"===l?"-01-01 00:00:00":"yyyy-MM"===l?"-01 00:00:00":"yyyy-MM-dd"===l?" 00:00:00":"";o.__config__.defaultValue=new Date(s+r).getTime()}"timePicker"===o.__config__.jnpfKey&&(o.__config__.defaultValue=n.jnpf.toDate(new Date,o.format))}o.__config__&&o.__config__.children&&Array.isArray(o.__config__.children)&&e(o.__config__.children,o)}};a(e.fields),e.formData=t},getFlowList:function(e){var t=this;Object(s["v"])(this.config.flowId,"1").then((function(i){return t.flowList=i.data,e&&t.flowItem.id?t.selectFlow(t.flowItem):t.flowList.length?1===t.flowList.length?t.selectFlow(t.flowList[0]):void(t.flowListVisible=!0):t.$message({type:"error",message:"流程不存在"})}))},handleLogin:function(){var e=this;if(this.passwordLoading=!0,!this.password)return this.$message({message:"请输入验证码",type:"error"}),void(this.passwordLoading=!1);var t={id:this.id,type:0,encryption:this.encryption,password:d()(this.password)};Object(r["a"])(t).then((function(t){e.passwordLoading=!1,200==t.code&&(e.formPassUse=0,e.init())})).catch((function(){e.passwordLoading=!1}))},recurSiveFilter:function(e){var t=this,i=e.filter((function(e){return u(e)}));return i.forEach((function(e){return e.__config__&&e.__config__.children&&Array.isArray(e.__config__.children)&&(e.__config__.children=t.recurSiveFilter(e.__config__.children))})),i},isIncludesTable:function(e){return!(e.__config__.layout&&"rowFormItem"!==e.__config__.layout||"table"===e.__config__.jnpfKey)||"table"==e.__config__.jnpfKey},selectFlow:function(e){var t=this;this.flowItem=e;var i={id:"",enCode:this.config.flowEnCode,flowId:e.id,formType:2,opType:"-1",type:1,modelId:this.modelId,isPreview:this.isPreview,fromForm:1,hideCancelBtn:!0};this.flowListVisible=!1,this.flowVisible=!0,this.$nextTick((function(){t.$refs.FlowBox.init(i)}))},submitForm:function(e,t){var i=this;e&&(this.btnLoading=!0,this.dataForm.data=JSON.stringify(e),Object(r["b"])(this.modelId,this.dataForm,this.encryption).then((function(e){i.$message({message:e.msg,type:"success",duration:1500,onClose:function(){t&&"function"===typeof t&&t(),i.btnLoading=!1,i.resetForm()}})})).catch((function(){i.btnLoading=!1})))},getQRimg:function(){this.formLink&&(this.$refs.qrCode.innerHTML="",this.qrcode=new _.a(this.$refs.qrCode,{width:150,height:150,text:this.formLink,correctLevel:_.a.CorrectLevel.H}))},dataFormSubmit:function(){if(this.isPreview)return this.$message({message:"功能预览不支持数据保存",type:"warning"});this.$refs.dynamicForm&&this.$refs.dynamicForm.submitForm()},resetForm:function(){var e=this;this.formConf=JSON.parse(this.config.formData),this.fillFormData(this.formConf,{}),this.formConf.fields=this.recurSiveFilter(this.formConf.fields),this.$nextTick((function(){e.$refs.dynamicForm&&e.$refs.dynamicForm.resetForm()}))},closeFlow:function(e){e&&this.init(!0)}}},m=p,h=(i("1042"),i("2877")),g=Object(h["a"])(m,n,a,!1,null,"5872c90c",null);t["default"]=g.exports},"7bec":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!e.item.__config__.noShow&&(!e.item.__config__.visibility||Array.isArray(e.item.__config__.visibility)&&e.item.__config__.visibility.includes("pc"))?i("el-col",{class:{"item-card":"card"===e.item.__config__.jnpfKey,"item-table":"table"===e.item.__config__.jnpfKey},attrs:{span:e.item.__config__.span}},["colFormItem"===e.item.__config__.layout?["divider"===e.item.__config__.jnpfKey?[i("el-divider",{attrs:{"content-position":e.item.contentPosition}},[e._v(e._s(e.item.content)+"\n      ")])]:"text"===e.item.__config__.jnpfKey?[i("jnpf-form-tip-item",{attrs:{"label-width":"0",tipLabel:e.item.__config__.label?e.item.__config__.tipLabel:""}},[i("JnpfText",{attrs:{content:e.item.content,textStyle:e.item.textStyle}})],1)]:"link"===e.item.__config__.jnpfKey?[i("jnpf-form-tip-item",{attrs:{"label-width":"0",tipLabel:e.item.__config__.label?e.item.__config__.tipLabel:""}},[i("jnpf-link",{attrs:{content:e.item.content,href:e.item.href,target:e.item.target,textStyle:e.item.textStyle}})],1)]:"alert"===e.item.__config__.jnpfKey?[i("jnpf-form-tip-item",{attrs:{"label-width":"0",tipLabel:e.item.__config__.label?e.item.__config__.tipLabel:""}},[i("el-alert",{staticStyle:{"word-break":"break-all"},attrs:{title:e.item.title,type:e.item.type,closable:e.item.closable,description:e.item.description,"show-icon":e.item.showIcon,closeText:e.item.closeText}})],1)]:"groupTitle"===e.item.__config__.jnpfKey?[i("jnpf-form-tip-item",{attrs:{"label-width":"0"}},[i("JnpfGroupTitle",{attrs:{content:e.item.content,tipLabel:e.item.tipLabel,"content-position":e.item.contentPosition}})],1)]:"button"===e.item.__config__.jnpfKey?[i("jnpf-form-tip-item",{attrs:{"label-width":"0",tipLabel:e.item.__config__.label?e.item.__config__.tipLabel:""}},[i("jnpf-button",{attrs:{align:e.item.align,buttonText:e.item.buttonText,type:e.item.type,disabled:e.item.disabled}})],1)]:[i("jnpf-form-tip-item",{attrs:{prop:e.item.__vModel__,"label-width":e.item.__config__.showLabel?(e.item.__config__.labelWidth||e.formConf.labelWidth)+"px":"0",label:e.item.__config__.showLabel?e.item.__config__.label+(e.formConf.labelSuffix||""):"",tipLabel:e.item.__config__.label&&e.item.__config__.showLabel?e.item.__config__.tipLabel:""}},["uploadFile"===e.item.__config__.jnpfKey?[i("JnpfUploadFile",{attrs:{detailed:"",disabled:""},model:{value:e.item.__config__.defaultValue,callback:function(t){e.$set(e.item.__config__,"defaultValue",t)},expression:"item.__config__.defaultValue"}})]:"uploadImg"===e.item.__config__.jnpfKey?e._l(e.item.__config__.defaultValue,(function(t,n){return i("el-image",{key:n,staticClass:"dy-img",attrs:{src:e.define.comUrl+t.url,"preview-src-list":e.getImgList(e.item.__config__.defaultValue),"z-index":1e4}})})):"colorPicker"===e.item.__config__.jnpfKey?[i("el-color-picker",{attrs:{"show-alpha":e.item.showAlpha,"color-format":e.item.colorFormat,size:e.item.size,disabled:""},model:{value:e.item.__config__.defaultValue,callback:function(t){e.$set(e.item.__config__,"defaultValue",t)},expression:"item.__config__.defaultValue"}})]:"rate"===e.item.__config__.jnpfKey?[i("el-rate",{attrs:{max:e.item.count,"allow-half":e.item.allowHalf,"show-text":e.item.showText,"show-score":e.item.showScore,disabled:""},model:{value:e.item.__config__.defaultValue,callback:function(t){e.$set(e.item.__config__,"defaultValue",t)},expression:"item.__config__.defaultValue"}})]:"slider"===e.item.__config__.jnpfKey?[i("div",{staticClass:"slider-box"},[i("el-slider",{attrs:{range:e.item.range,"show-stops":e.item.showStops},model:{value:e.item.__config__.defaultValue,callback:function(t){e.$set(e.item.__config__,"defaultValue",t)},expression:"item.__config__.defaultValue"}}),i("div",{staticClass:"slider-mark"})],1)]:"editor"===e.item.__config__.jnpfKey?[i("div",{domProps:{innerHTML:e._s(e.item.__config__.defaultValue)}})]:"relationForm"===e.item.__config__.jnpfKey?[i("a",{staticStyle:{color:"#1890ff"},on:{click:function(t){return e.toDetail(e.item)}}},[e._v(e._s(e.item.name))])]:"popupSelect"===e.item.__config__.jnpfKey?[i("p",[e._v(e._s(e.item.name))])]:"barcode"===e.item.__config__.jnpfKey?[i("jnpf-barcode",{attrs:{format:e.item.format,lineColor:e.item.lineColor,background:e.item.background,width:e.item.width,height:e.item.height,staticText:e.item.staticText,dataType:e.item.dataType,relationField:e.item.relationField+"_id",formData:e.formValue}})]:"qrcode"===e.item.__config__.jnpfKey?[i("jnpf-qrcode",{attrs:{format:e.item.format,colorLight:e.item.colorLight,colorDark:e.item.colorDark,width:e.item.width,staticText:e.item.staticText,dataType:e.item.dataType,relationField:e.item.relationField+"_id",formData:e.formValue}})]:"calculate"===e.item.__config__.jnpfKey&&0==e.item.isStorage?[i("JnpfCalculate",{attrs:{expression:e.item.expression,isStorage:0,formData:e.formValue,isAmountChinese:e.item.isAmountChinese,thousands:e.item.thousands,precision:e.item.precision,detailed:!0}})]:"inputNumber"===e.item.__config__.jnpfKey?[i("JnpfNumber",{attrs:{thousands:e.item.thousands,isAmountChinese:e.item.isAmountChinese,addonBefore:e.item.addonBefore,addonAfter:e.item.addonAfter,precision:e.item.precision},model:{value:e.item.__config__.defaultValue,callback:function(t){e.$set(e.item.__config__,"defaultValue",t)},expression:"item.__config__.defaultValue"}})]:"input"===e.item.__config__.jnpfKey?[i("jnpf-input",{staticClass:"jnpf-detail-text",attrs:{addonBefore:e.item.addonBefore,addonAfter:e.item.addonAfter,useMask:e.item.useMask,maskConfig:e.item.maskConfig,detailed:""},model:{value:e.item.__config__.defaultValue,callback:function(t){e.$set(e.item.__config__,"defaultValue",t)},expression:"item.__config__.defaultValue"}})]:"sign"===e.item.__config__.jnpfKey?[i("JnpfSign",{attrs:{detailed:""},model:{value:e.item.__config__.defaultValue,callback:function(t){e.$set(e.item.__config__,"defaultValue",t)},expression:"item.__config__.defaultValue"}})]:"iframe"===e.item.__config__.jnpfKey?[i("JnpfIframe",{attrs:{href:e.item.href,height:e.item.height,borderType:e.item.borderType,borderColor:e.item.borderColor,borderWidth:e.item.borderWidth}})]:[i("p",{staticClass:"jnpf-detail-text"},[e.item.addonBefore?i("span",[e._v(e._s(e.item.addonBefore))]):e._e(),e._v(e._s(e.getValue(e.item))),e.item.addonAfter?i("span",[e._v(e._s(e.item.addonAfter))]):e._e()]),e.item.isAmountChinese?i("p",{staticClass:"isAmountChinese jnpf-detail-text"},[e._v("\n            "+e._s(e.amountChinese(e.item.__config__.defaultValue)))]):e._e()]],2)]]:["card"===e.item.__config__.jnpfKey?[i("el-card",{staticClass:"mb-20",attrs:{shadow:e.item.shadow,header:e.item.header}},[i("template",{slot:"header"},[e.item.__config__.tipLabel&&e.item.header?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.item.header)+"\n            "),i("el-tooltip",{attrs:{placement:"top",content:e.item.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(e.item.header))])]),i("el-row",e._l(e.item.__config__.children,(function(t,n){return i("Item",e._g(e._b({key:n,attrs:{item:t}},"Item",e.$props,!1),e.$listeners))})),1)],2)]:e._e(),"row"===e.item.__config__.jnpfKey?[i("el-row",{attrs:{gutter:e.formConf.gutter}},e._l(e.item.__config__.children,(function(t,n){return i("Item",e._g(e._b({key:n,attrs:{item:t}},"Item",e.$props,!1),e.$listeners))})),1)]:e._e(),"table"===e.item.__config__.jnpfKey?[e.item.__config__.noShow?e._e():i("jnpf-form-tip-item",{attrs:{"label-width":"0"}},[e.item.__config__.showTitle?i("div",{staticClass:"JNPF-common-title"},[e.item.__config__.tipLabel&&e.item.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.item.__config__.label)+"\n            "),i("el-tooltip",{attrs:{placement:"top",content:e.item.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("h2",[e._v(e._s(e.item.__config__.label))])]):e._e(),i("el-table",{attrs:{data:e.item.__config__.defaultValue,showSummary:!!e.item.__config__.defaultValue.length&&!!e.item.showSummary&&e.item.summaryField&&!!e.item.summaryField.length,"summary-method":e.getSummaries}},[i("el-table-column",{attrs:{prop:"index",type:"index",width:"50",label:"序号",align:"center",fixed:"left"}}),e._l(e.complexHeaderList,(function(t,n){return["complexHeader"===t.jnpfKey?[i("el-table-column",{key:n,attrs:{label:t.label,align:t.align}},[e._l(t.children,(function(n,a){return[["relationForm"===n.__config__.jnpfKey?i("el-table-column",{key:a,attrs:{prop:n.__vModel__,label:n.__config__.label,align:t.align},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-link",{attrs:{underline:!1,type:"primary"},nativeOn:{click:function(i){return e.toTableDetail(n,t.row[n.__vModel__+"_id"])}}},[e._v("\n                          "+e._s(t.row[n.__vModel__]))])]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):["relationFormAttr","popupAttr"].includes(n.__config__.jnpfKey)?i("el-table-column",{key:a,attrs:{label:n.__config__.label,prop:n.__vModel__,align:t.align},scopedSlots:e._u([{key:"default",fn:function(t){return[n.__vModel__?i("p",[e._v("\n                          "+e._s(t.row[n.__vModel__])+"\n                        ")]):i("p",[e._v("\n                          "+e._s(t.row[n.relationField.split("_jnpfTable_")[0]+"_"+n.showField])+"\n                        ")])]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):"uploadFile"===n.__config__.jnpfKey?i("el-table-column",{key:a,attrs:{label:n.__config__.label,prop:n.__vModel__,"min-width":"250px",align:t.align},scopedSlots:e._u([{key:"default",fn:function(t){return[i("JnpfUploadFile",{attrs:{detailed:"",disabled:""},model:{value:t.row[n.__vModel__],callback:function(i){e.$set(t.row,n.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):"calculate"===n.__config__.jnpfKey&&0==n.isStorage?i("el-table-column",{key:a,attrs:{label:n.__config__.label,prop:n.__vModel__,align:t.align},scopedSlots:e._u([{key:"default",fn:function(t){return[i("JnpfCalculate",{attrs:{rowIndex:t.$index,expression:n.expression,isStorage:0,formData:e.formValue,isAmountChinese:n.isAmountChinese,thousands:n.thousands,precision:n.precision,detailed:!0}})]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):"uploadImg"===n.__config__.jnpfKey?i("el-table-column",{key:a,attrs:{label:n.__config__.label,align:t.align,prop:n.__vModel__},scopedSlots:e._u([{key:"default",fn:function(t){return[i("JnpfUploadImg",{attrs:{detailed:"",disabled:""},model:{value:t.row[n.__vModel__],callback:function(i){e.$set(t.row,n.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):"inputNumber"===n.__config__.jnpfKey?i("el-table-column",{key:a,attrs:{label:n.__config__.label,prop:n.__vModel__,align:t.align},scopedSlots:e._u([{key:"default",fn:function(t){return[i("JnpfNumber",{attrs:{thousands:n.thousands,isAmountChinese:n.isAmountChinese,addonBefore:n.addonBefore,addonAfter:n.addonAfter,precision:n.precision},model:{value:t.row[n.__vModel__],callback:function(i){e.$set(t.row,n.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):"sign"===n.__config__.jnpfKey?i("el-table-column",{key:a,attrs:{label:n.__config__.label,prop:n.__vModel__,align:t.align},scopedSlots:e._u([{key:"default",fn:function(t){return[i("JnpfSign",{attrs:{detailed:""},model:{value:t.row[n.__vModel__],callback:function(i){e.$set(t.row,n.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):"rate"===n.__config__.jnpfKey?i("el-table-column",{key:a,attrs:{label:n.__config__.label,prop:n.__vModel__,align:t.align},scopedSlots:e._u([{key:"default",fn:function(t){return[i("JnpfRate",{attrs:{detailed:""},model:{value:t.row[n.__vModel__],callback:function(i){e.$set(t.row,n.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):"slider"===n.__config__.jnpfKey?i("el-table-column",{key:a,attrs:{label:n.__config__.label,prop:n.__vModel__,align:t.align},scopedSlots:e._u([{key:"default",fn:function(t){return[i("JnpfSlider",{attrs:{detailed:""},model:{value:t.row[n.__vModel__],callback:function(i){e.$set(t.row,n.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):"input"===n.__config__.jnpfKey?i("el-table-column",{key:a,attrs:{label:n.__config__.label,align:n.align,prop:n.__vModel__},scopedSlots:e._u([{key:"default",fn:function(t){return[i("jnpf-input",{staticClass:"jnpf-detail-text",attrs:{addonBefore:n.addonBefore,addonAfter:n.addonAfter,useMask:n.useMask,maskConfig:n.maskConfig,detailed:""},model:{value:t.row[n.__vModel__],callback:function(i){e.$set(t.row,n.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2):i("el-table-column",{key:a,attrs:{prop:n.__vModel__,label:n.__config__.label,align:t.align},scopedSlots:e._u([{key:"default",fn:function(t){return[n.addonBefore?i("span",[e._v(e._s(n.addonBefore))]):e._e(),e._v(e._s(e.getThousandsValue(n,t.row[n.__vModel__]))),n.addonAfter?i("span",[e._v(e._s(n.addonAfter))]):e._e(),n.isAmountChinese?i("p",{staticClass:"isAmountChinese jnpf-detail-text"},[e._v("\n                          "+e._s(e.amountChinese(t.row[n.__vModel__])))]):e._e()]}}],null,!0)},[i("template",{slot:"header"},[n.__config__.tipLabel&&n.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(n.__config__["label"])+"\n                          "),i("el-tooltip",{attrs:{placement:"top",content:n.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(n.__config__["label"]))])])],2)]]}))],2)]:e._e()]})),e._l(e.item.__config__.children,(function(t,n){return[!t.__config__.noShow&&(!t.__config__.visibility||Array.isArray(t.__config__.visibility)&&t.__config__.visibility.includes("pc"))?[e.childColumns.includes(t.__vModel__)?e._e():["relationForm"===t.__config__.jnpfKey?i("el-table-column",{key:n,attrs:{prop:t.__vModel__,label:t.__config__.label,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed},scopedSlots:e._u([{key:"default",fn:function(n){return[i("el-link",{attrs:{underline:!1,type:"primary"},nativeOn:{click:function(i){return e.toTableDetail(t,n.row[t.__vModel__+"_id"])}}},[e._v("\n                      "+e._s(n.row[t.__vModel__]))])]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2):["relationFormAttr","popupAttr"].includes(t.__config__.jnpfKey)?i("el-table-column",{key:n,attrs:{label:t.__config__.label,prop:t.__vModel__,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed},scopedSlots:e._u([{key:"default",fn:function(n){return[t.__vModel__?i("p",[e._v("\n                      "+e._s(n.row[t.__vModel__])+"\n                    ")]):i("p",[e._v("\n                      "+e._s(n.row[t.relationField.split("_jnpfTable_")[0]+"_"+t.showField])+"\n                    ")])]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2):"uploadFile"===t.__config__.jnpfKey?i("el-table-column",{key:n,attrs:{label:t.__config__.label,prop:t.__vModel__,"min-width":"250px",align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfUploadFile",{attrs:{detailed:"",disabled:""},model:{value:n.row[t.__vModel__],callback:function(i){e.$set(n.row,t.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2):"calculate"===t.__config__.jnpfKey&&0==t.isStorage?i("el-table-column",{key:n,attrs:{label:t.__config__.label,prop:t.__vModel__,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfCalculate",{attrs:{rowIndex:n.$index,expression:t.expression,isStorage:0,formData:e.formValue,isAmountChinese:t.isAmountChinese,thousands:t.thousands,precision:t.precision,detailed:!0}})]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2):"uploadImg"===t.__config__.jnpfKey?i("el-table-column",{key:n,attrs:{label:t.__config__.label,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed,prop:t.__vModel__},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfUploadImg",{attrs:{detailed:"",disabled:""},model:{value:n.row[t.__vModel__],callback:function(i){e.$set(n.row,t.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2):"inputNumber"===t.__config__.jnpfKey?i("el-table-column",{key:n,attrs:{label:t.__config__.label,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed,prop:t.__vModel__},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfNumber",{attrs:{thousands:t.thousands,isAmountChinese:t.isAmountChinese,addonBefore:t.addonBefore,addonAfter:t.addonAfter,precision:t.precision},model:{value:n.row[t.__vModel__],callback:function(i){e.$set(n.row,t.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2):"input"===t.__config__.jnpfKey?i("el-table-column",{key:n,attrs:{label:t.__config__.label,prop:t.__vModel__,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed},scopedSlots:e._u([{key:"default",fn:function(n){return[i("jnpf-input",{staticClass:"jnpf-detail-text",attrs:{addonBefore:t.addonBefore,addonAfter:t.addonAfter,useMask:t.useMask,maskConfig:t.maskConfig,detailed:""},model:{value:n.row[t.__vModel__],callback:function(i){e.$set(n.row,t.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"])+"\n                    ")])])],2):"sign"===t.__config__.jnpfKey?i("el-table-column",{key:n,attrs:{label:t.__config__.label,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed,prop:t.__vModel__},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfSign",{attrs:{detailed:""},model:{value:n.row[t.__vModel__],callback:function(i){e.$set(n.row,t.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2):"rate"===t.__config__.jnpfKey?i("el-table-column",{key:n,attrs:{label:t.__config__.label,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed,prop:t.__vModel__},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfRate",{attrs:{detailed:""},model:{value:n.row[t.__vModel__],callback:function(i){e.$set(n.row,t.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2):"slider"===t.__config__.jnpfKey?i("el-table-column",{key:n,attrs:{label:t.__config__.label,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed,prop:t.__vModel__},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfSlider",{attrs:{detailed:""},model:{value:n.row[t.__vModel__],callback:function(i){e.$set(n.row,t.__vModel__,i)},expression:"scope.row[column.__vModel__]"}})]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2):i("el-table-column",{key:n,attrs:{prop:t.__vModel__,align:t.__config__.tableAlign,fixed:"none"!=t.__config__.tableFixed&&t.__config__.tableFixed,label:t.__config__.label},scopedSlots:e._u([{key:"default",fn:function(n){return[t.addonBefore?i("span",[e._v(e._s(t.addonBefore))]):e._e(),e._v(e._s(e.getThousandsValue(t,n.row[t.__vModel__]))),t.addonAfter?i("span",[e._v(e._s(t.addonAfter))]):e._e(),t.isAmountChinese?i("p",{staticClass:"isAmountChinese jnpf-detail-text"},[e._v("\n                      "+e._s(e.amountChinese(n.row[t.__vModel__])))]):e._e()]}}],null,!0)},[i("template",{slot:"header"},[t.__config__.tipLabel&&t.__config__.label?i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.__config__["label"])+"\n                      "),i("el-tooltip",{attrs:{placement:"top",content:t.__config__.tipLabel}},[i("a",{staticClass:"el-icon-question tooltip-question"})])],1):i("span",[e._v(e._s(t.__config__["label"]))])])],2)]]:e._e()]}))],2)],1)]:e._e(),"tab"===e.item.__config__.jnpfKey?[i("el-tabs",{staticClass:"mb-10",attrs:{type:e.item.type,"tab-position":e.item.tabPosition},model:{value:e.item.__config__.active,callback:function(t){e.$set(e.item.__config__,"active",t)},expression:"item.__config__.active"}},e._l(e.item.__config__.children,(function(t,n){return i("el-tab-pane",{key:n,attrs:{label:t.title,name:t.name}},[i("el-row",e._l(t.__config__.children,(function(t,n){return i("Item",e._g(e._b({key:n,attrs:{item:t}},"Item",e.$props,!1),e.$listeners))})),1)],1)})),1)]:e._e(),"collapse"===e.item.__config__.jnpfKey?[i("el-collapse",{staticClass:"mb-20",attrs:{accordion:e.item.accordion},model:{value:e.item.__config__.active,callback:function(t){e.$set(e.item.__config__,"active",t)},expression:"item.__config__.active"}},e._l(e.item.__config__.children,(function(t,n){return i("el-collapse-item",{key:n,attrs:{title:t.title,name:t.name}},[i("el-row",e._l(t.__config__.children,(function(t,n){return i("Item",e._g(e._b({key:n,attrs:{item:t}},"Item",e.$props,!1),e.$listeners))})),1)],1)})),1)]:e._e(),"tableGrid"===e.item.__config__.jnpfKey?[i("table",{staticClass:"table-grid-box",style:{"--borderType":e.item.__config__.borderType,"--borderColor":e.item.__config__.borderColor,"--borderWidth":e.item.__config__.borderWidth+"px"}},[i("tbody",e._l(e.item.__config__.children,(function(t,n){return i("tr",{key:n},e._l(t.__config__.children,(function(t,n){return i("td",{directives:[{name:"show",rawName:"v-show",value:!t.__config__.merged,expression:"!it.__config__.merged"}],key:n,style:{"--backgroundColor":t.__config__.backgroundColor},attrs:{colspan:t.__config__.colspan,rowspan:t.__config__.rowspan}},e._l(t.__config__.children,(function(t,n){return i("Item",e._g(e._b({key:n,attrs:{item:t}},"Item",e.$props,!1),e.$listeners))})),1)})),0)})),0)])]:e._e()]],2):e._e()},a=[],o=i("5530"),l=i("2909"),s=(i("c5f6"),i("ac6a"),i("7f7f"),i("6762"),i("2fdb"),i("2934")),r=i("3424"),c={name:"Item",props:{item:{type:Object,required:!0},formConf:{type:Object,required:!0},formValue:{type:Object}},data:function(){return{complexHeaderList:[],childColumns:[]}},created:function(){"table"===this.item.__config__.jnpfKey&&(this.item.__config__.children=this.item.__config__.children.filter((function(e){return!e.__config__.noShow&&(!e.__config__.visibility||Array.isArray(e.__config__.visibility)&&e.__config__.visibility.includes("pc"))})),this.complexHeaderList=this.getComplexColumns(this.item.__config__.children))},methods:{toDetail:function(e){this.$emit("toDetail",e)},toTableDetail:function(e,t){e.__config__.defaultValue=t,this.$emit("toDetail",e)},downloadFile:function(e){var t=this;e.fileId&&Object(s["e"])("annex",e.fileId).then((function(i){t.jnpf.downloadFile(i.data.url,e.name)}))},getImgList:function(e){var t=this,i=e.map((function(e){return t.define.comUrl+e.url}));return i},getValue:function(e){return Array.isArray(e.__config__.defaultValue)?["timeRange","dateRange"].includes(e.__config__.jnpfKey)?e.__config__.defaultValue.join(""):e.__config__.defaultValue.join():e.thousands?Object(r["l"])(e.__config__.defaultValue):e.__config__.defaultValue},amountChinese:function(e){return Object(r["d"])(e)},getThousandsValue:function(e,t){return e.thousands?Object(r["l"])(t):t},getSummaries:function(e){var t=this.item.summaryField,i=[];this.item.__config__.children.forEach((function(e){e.thousands&&i.push(e.__vModel__)}));var n=e.columns,a=e.data,o=[];return n.forEach((function(e,n){if(0!==n)if(t.includes(e.property)){var l=a.map((function(t){return Number(t[e.property])}));l.every((function(e){return isNaN(e)}))?o[n]="":(o[n]=l.reduce((function(e,t){var i=Number(t);return isNaN(i)?e:e+t}),0).toFixed(2),i.includes(e.property)&&(o[n]=Object(r["l"])(o[n])))}else o[n]="";else o[n]="合计"})),o},getComplexColumns:function(e){var t=this.item.__config__.complexHeaderList||[];if(!t.length)return e;for(var i=[],n=0;n<t.length;n++){var a=t[n];if(a.align=a.align,a.children=[],a.label=a.fullName,a.jnpfKey="complexHeader",a.childColumns&&a.childColumns.length){a.childColumns=a.childColumns.filter((function(t){return e.some((function(e){return"none"==e.__config__.tableFixed&&e.__vModel__==t}))})),i.push.apply(i,Object(l["a"])(a.childColumns));for(var s=0;s<e.length;s++){var r=e[s];a.childColumns.includes(r.__vModel__)&&a.children.push(Object(o["a"])(Object(o["a"])({},r),{},{align:r.__config__.tableAlign}))}}}return t=t.filter((function(e){return e.children.length})),this.childColumns=i,t}}},_=c,f=i("2877"),d=Object(f["a"])(_,n,a,!1,null,null,null);t["default"]=d.exports},"7f65":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"child-table-column"},[e.expand?e._e():e._l(e.fewData,(function(t,n){return i("tr",{key:n,staticClass:"child-table__row"},e._l(e.head,(function(n,a){return i("td",{key:a,class:{"td-flex-1":!n.width},style:{width:n.width-1+"px","text-align":n.align}},["relationForm"===n.jnpfKey?i("div",{staticClass:"cell",class:{ellipsis:e.showOverflow},attrs:{title:e.showOverflow?t[n.vModel]:""}},[i("el-link",{attrs:{underline:!1,type:"primary"},nativeOn:{click:function(i){return e.toDetail(n.modelId,t[n.vModel+"_id"])}}},[e._v("\n            "+e._s(t[n.vModel])+"\n          ")])],1):"inputNumber"===n.jnpfKey||"calculate"===n.jnpfKey?i("div",{staticClass:"cell",class:{ellipsis:e.showOverflow},attrs:{title:e.showOverflow?t[n.vModel]:""}},[i("JnpfNumber",{attrs:{thousands:n.thousands,precision:n.precision},model:{value:t[n.vModel],callback:function(i){e.$set(t,n.vModel,i)},expression:"item[headItem.vModel]"}})],1):"sign"===n.jnpfKey?i("div",{staticClass:"cell",class:{ellipsis:e.showOverflow},attrs:{title:e.showOverflow?t[n.vModel]:""}},[i("JnpfSign",{attrs:{detailed:""},model:{value:t[n.vModel],callback:function(i){e.$set(t,n.vModel,i)},expression:"item[headItem.vModel]"}})],1):i("div",{staticClass:"cell",class:{ellipsis:e.showOverflow},attrs:{title:e.showOverflow?t[n.vModel]:""}},[e._v("\n          "+e._s(t[n.vModel])+"\n        ")])])})),0)})),e.expand?e._l(e.data,(function(t,n){return i("tr",{key:n,staticClass:"child-table__row"},e._l(e.head,(function(n,a){return i("td",{key:a,class:{"td-flex-1":!n.width},style:{width:n.width-1+"px","text-align":n.align}},["relationForm"===n.jnpfKey?i("div",{staticClass:"cell",class:{ellipsis:e.showOverflow},attrs:{title:e.showOverflow?t[n.vModel]:""}},[i("el-link",{attrs:{underline:!1,type:"primary"},nativeOn:{click:function(i){return e.toDetail(n.modelId,t[n.vModel+"_id"])}}},[e._v("\n            "+e._s(t[n.vModel])+"\n          ")])],1):"inputNumber"===n.jnpfKey||"calculate"===n.jnpfKey?i("div",{staticClass:"cell",class:{ellipsis:e.showOverflow},attrs:{title:e.showOverflow?t[n.vModel]:""}},[i("JnpfNumber",{attrs:{thousands:n.thousands,precision:n.precision},model:{value:t[n.vModel],callback:function(i){e.$set(t,n.vModel,i)},expression:"item[headItem.vModel]"}})],1):"sign"===n.jnpfKey?i("div",{staticClass:"cell",class:{ellipsis:e.showOverflow},attrs:{title:e.showOverflow?t[n.vModel]:""}},[i("JnpfSign",{attrs:{detailed:""},model:{value:t[n.vModel],callback:function(i){e.$set(t,n.vModel,i)},expression:"item[headItem.vModel]"}})],1):i("div",{staticClass:"cell",class:{ellipsis:e.showOverflow},attrs:{title:e.showOverflow?t[n.vModel]:""}},[e._v("\n          "+e._s(t[n.vModel])+"\n        ")])])})),0)})):e._e(),e.data.length>e.defaultNumber?i("div",{staticClass:"expand-more-btn"},[e.expand?i("el-button",{attrs:{type:"text"},on:{click:e.toggleExpand}},[e._v("隐藏部分")]):e._e(),e.expand?e._e():i("el-button",{attrs:{type:"text"},on:{click:e.toggleExpand}},[e._v("加载更多")])],1):e._e()],2)},a=[],o=(i("c5f6"),{name:"childTableColumn",data:function(){return{}},props:{data:{type:Array,default:function(){return[]}},head:{type:Array,default:function(){return[]}},defaultNumber:{type:Number,default:3},rowEdit:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},showOverflow:{type:Boolean,default:!1}},computed:{fewData:function(){return this.data?this.data.slice(0,this.defaultNumber):[]}},methods:{toggleExpand:function(){this.$emit("toggleExpand")},toDetail:function(e,t){this.$emit("toDetail",e,t)}}}),l=o,s=i("2877"),r=Object(s["a"])(l,n,a,!1,null,null,null);t["default"]=r.exports},"7f9d":function(e,t,i){},"8e2b":function(e,t,i){"use strict";i("ff78")},aa85:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.searchList.length?i("el-row",{staticClass:"JNPF-common-search-box",attrs:{gutter:16}},[i("el-form",{nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(e.searchList,(function(t,n){return i("el-col",{key:n,attrs:{span:6}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:n<3||n>=3&&e.showAll,expression:"index<3 || (index>=3 && showAll)"}],attrs:{label:t.label}},[e.useInputList.indexOf(t.__config__.jnpfKey)>-1?[i("el-input",{staticClass:"item",attrs:{placeholder:"请输入"+t.label,clearable:""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e.useDateList.indexOf(t.__config__.jnpfKey)>-1?[i("el-date-picker",{staticClass:"item",attrs:{"value-format":"timestamp",format:"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetimerange",clearable:""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e.useSelectList.indexOf(t.__config__.jnpfKey)>-1?[i("el-select",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",filterable:"",multiple:t.searchMultiple},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}},e._l(t.options,(function(e,n){return i("el-option",{key:n,attrs:{label:e[t.props.label],value:e[t.props.value]}})})),1)]:["inputNumber"===t.__config__.jnpfKey||"rate"===t.__config__.jnpfKey||"slider"===t.__config__.jnpfKey?[i("num-range",{attrs:{precision:t.precision},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"calculate"===t.__config__.jnpfKey?[i("num-range",{attrs:{precision:t.precision||0},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"cascader"===t.__config__.jnpfKey?[i("JnpfCascader",{staticClass:"item",attrs:{options:t.options,clearable:"","show-all-levels":t.showAllLevels,props:t.props,filterable:"",placeholder:"请选择"+t.label},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"timePicker"===t.__config__.jnpfKey||"timeRange"===t.__config__.jnpfKey?[i("el-time-picker",{staticClass:"item",attrs:{"start-placeholder":"开始时间","end-placeholder":"结束时间",clearable:"","value-format":t.format,format:t.format,"is-range":""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"datePicker"===t.__config__.jnpfKey?[i("JnpfDateRangePicker",{staticClass:"item",attrs:{type:t.type,clearable:"",format:t.format,startPlaceholder:"开始日期",endPlaceholder:"结束日期"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"dateRange"===t.__config__.jnpfKey?[i("el-date-picker",{staticClass:"item",attrs:{type:t.type,clearable:"","value-format":"timestamp",format:t.format,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"areaSelect"===t.__config__.jnpfKey?[i("JnpfAreaSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,level:t.level,clearable:""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"treeSelect"===t.__config__.jnpfKey?[i("JnpfTreeSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,options:t.options,props:t.props,clearable:""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"createUser"===t.__config__.jnpfKey||"modifyUser"===t.__config__.jnpfKey?[i("JnpfUserSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",ableIds:t.ableIds,selectType:t.selectType},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"currOrganize"===t.__config__.jnpfKey||"organizeSelect"===t.__config__.jnpfKey?[i("JnpfOrganizeSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",multiple:t.searchMultiple,ableIds:t.ableIds,selectType:t.selectType},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"currDept"===t.__config__.jnpfKey?[i("JnpfDepSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",ableIds:t.ableIds,selectType:t.selectType},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"currPosition"===t.__config__.jnpfKey||"posSelect"===t.__config__.jnpfKey?[i("JnpfPosSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",multiple:t.searchMultiple,ableIds:t.ableIds,selectType:t.selectType},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"groupSelect"===t.__config__.jnpfKey?[i("JnpfGroupSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",multiple:t.searchMultiple,selectType:t.selectType,ableIds:t.ableIds},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"roleSelect"===t.__config__.jnpfKey?[i("JnpfRoleSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",multiple:t.searchMultiple,selectType:t.selectType,ableIds:t.ableIds},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"userSelect"===t.__config__.jnpfKey?[i("JnpfUserSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",selectType:"all"!=t.selectType&&"custom"!=t.selectType?"all":t.selectType,ableIds:t.ableIds,multiple:t.searchMultiple},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"usersSelect"===t.__config__.jnpfKey?[i("JnpfUsersSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",selectType:t.selectType,ableIds:t.ableIds,multiple:t.searchMultiple},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"depSelect"===t.__config__.jnpfKey?[i("JnpfDepSelect",{staticClass:"item",attrs:{placeholder:"请选择"+t.label,clearable:"",selectType:t.selectType,ableIds:t.ableIds,multiple:t.searchMultiple},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e(),"autoComplete"===t.__config__.jnpfKey?[i("JnpfAutoComplete",{staticClass:"item",attrs:{placeholder:"请输入"+t.label,total:t.total,clearable:"",relationField:t.relationField,templateJson:t.templateJson,interfaceId:t.interfaceId},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})]:e._e()]],2)],1)})),i("el-col",{attrs:{span:6}},[i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.search()}}},[e._v(e._s(e.$t("common.search"))+"\n        ")]),i("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:function(t){return e.reset()}}},[e._v(e._s(e.$t("common.reset"))+"\n        ")]),e.searchList.length>3?[e.showAll?i("el-button",{attrs:{type:"text",icon:"el-icon-arrow-up"},on:{click:function(t){e.showAll=!1}}},[e._v("\n            收起")]):i("el-button",{attrs:{type:"text",icon:"el-icon-arrow-down"},on:{click:function(t){e.showAll=!0}}},[e._v("\n            展开\n          ")])]:e._e()],2)],1)],2)],1):e._e()},a=[],o=(i("ac6a"),i("456d"),i("ed08")),l=i("100e"),s=i("9b6f"),r=i("17de"),c={props:["list","initDataJson"],data:function(){return{showAll:!1,searchList:[],useInputList:l["l"],useDateList:l["k"],useSelectList:l["m"]}},watch:{list:{handler:function(e){this.searchList=Object(o["b"])(e),this.buildOptions(this.searchList)},deep:!0,immediate:!0},initDataJson:{handler:function(e){if(""!=e){var t=JSON.parse(e);if(Object.keys(t).length>0)for(var i in t)for(var n=0;n<this.searchList.length;n++)if(this.searchList[n].__vModel__===i){this.searchList[n].searchMultiple?"organizeSelect"==this.searchList[n].jnpfKey?this.searchList[n].value=Array.isArray(t[i])&&Array.isArray(t[i][0])?t[i]:[t[i]]:this.searchList[n].value=Array.isArray(t[i])?t[i]:[t[i]]:this.searchList[n].value=t[i];break}}}}},computed:{},methods:{changeValue:function(e){this.$forceUpdate()},buildOptions:function(e){e.forEach((function(e){var t=e.__config__;if(l["b"].indexOf(t.jnpfKey)>-1&&("dictionary"===t.dataType&&t.dictionaryType&&(e.options=[],Object(s["i"])(t.dictionaryType).then((function(t){e.options=t.data.list}))),"dynamic"===t.dataType&&t.propsUrl)){e.options=[];var i={paramList:t.templateJson||[]};Object(r["o"])(t.propsUrl,i).then((function(t){e.options=Array.isArray(t.data)?t.data:[]}))}}))},search:function(){for(var e={},t=0;t<this.searchList.length;t++){var i=this.searchList[t];i.value&&(Array.isArray(i.value)?i.value.length&&(e[i.id]=i.value):e[i.id]=i.value)}var n="{}"===JSON.stringify(e)?"":JSON.stringify(e);this.$emit("search",n)},reset:function(){this.treeReset(),this.$emit("reset")},treeReset:function(){for(var e=0;e<this.searchList.length;e++)this.searchList[e].value="";this.$forceUpdate()}}},_=c,f=i("2877"),d=Object(f["a"])(_,n,a,!1,null,null,null);t["default"]=d.exports},b7a2:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.currentView,{directives:[{name:"show",rawName:"v-show",value:e.showPage,expression:"showPage"}],tag:"component",attrs:{config:e.config,modelId:e.modelId,isPreview:e.isPreview,encryption:e.encryption}})},a=[],o=(i("a481"),i("f8c0")),l=i("7b88"),s=i("e5a9"),r=i("3fa5"),c={name:"formShortLink",components:{Form:l["default"],List:s["default"]},data:function(){return{currentView:"",showPage:!1,isPreview:!1,modelId:"",config:{},encryption:"",type:"from"}},created:function(){var e=this.jnpf.aesEncryption.decrypt(this.$route.query.encryption);if(e){var t=JSON.parse(e);this.modelId=t.modelId?t.modelId:"",this.encryption=this.$route.query.encryption,this.type=t.type,this.modelId&&this.getConfigData()}},methods:{getConfigData:function(){var e=this;Object(o["d"])(this.modelId,this.encryption).then((function(t){if(200!==t.code||!t.data)return e.$store.dispatch("tagsView/delView",e.$route),e.$router.replace("/404"),void Object(r["a"])({message:t.msg||"请求出错，请重试",type:"error",duration:1500});e.config=t.data,"form"==e.type?e.currentView="Form":e.currentView="List",e.showPage=!0})).catch((function(){}))}}},_=c,f=(i("30e7"),i("2877")),d=Object(f["a"])(_,n,a,!1,null,"8e058af8",null);t["default"]=d.exports},ba61:function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l})),i.d(t,"c",(function(){return s}));var n=i("b775");function a(e){return Object(n["a"])({url:"/api/system/AdvancedQuery/".concat(e,"/List"),method:"get"})}function o(e){return Object(n["a"])({url:"/api/system/AdvancedQuery/".concat(e),method:"DELETE"})}function l(e){return Object(n["a"])({url:"/api/system/AdvancedQuery",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/api/system/AdvancedQuery/".concat(e.id),method:"put",data:e})}},d263:function(e,t,i){"use strict";i("386b")("fixed",(function(e){return function(){return e(this,"tt","","")}}))},e5a9:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"lock-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.columnPassUse,expression:"columnPassUse==1"}],staticClass:" lock-form"},[i("el-input",{attrs:{placeholder:"请输入验证码","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[i("el-button",{attrs:{slot:"append",icon:"ace-icon el-icon-unlock",loading:e.passwordLoading},on:{click:e.handleLogin},slot:"append"})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.columnPassUse,expression:"columnPassUse==0"}],staticClass:"JNPF-common-layout"},[i("div",{staticClass:"main"},[i("div",{staticClass:"form-top"},[i("p",[e._v(e._s(e.config.fullName))])]),i("el-popover",{attrs:{placement:"bottom-end",width:"180",trigger:"hover"}},[i("div",{staticClass:"qrcode"},[i("p",[e._v("扫描二维码，分享此链接")]),i("div",{ref:"qrCode",staticStyle:{display:"inline-block",margin:"2px 0px"},attrs:{id:"qrcode"}})]),i("div",{staticClass:"form-use-icon float-left ym-custom ym-custom-qrcode ",attrs:{slot:"reference"},on:{mouseover:e.getQRimg},slot:"reference"})]),i("div",{staticClass:"JNPF-common-layout-center"},[i("Search",{ref:"Search",attrs:{list:e.searchList,initDataJson:e.listQuery.queryJson},on:{reset:e.reset,search:e.searchData}}),i("div",{staticClass:"JNPF-common-layout-main JNPF-flex-main"},[i("div",{staticClass:"JNPF-common-head"},[i("div"),i("div",{staticClass:"JNPF-common-head-right"},[i("el-tooltip",{attrs:{effect:"dark",content:"刷新",placement:"top"}},[i("el-link",{attrs:{icon:"icon-ym icon-ym-Refresh JNPF-common-head-icon",underline:!1},on:{click:function(t){return e.reset()}}})],1)],1)]),e.refreshTable?i("JNPF-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"tableRef",attrs:{data:e.list,"row-key":"id","default-expand-all":2!==e.columnData.childTableStyle&&0==e.columnData.treeLazyType&&e.expandsTable,lazy:5==e.columnData.type&&1==e.columnData.treeLazyType,"tree-props":{children:"children",hasChildren:1==e.columnData.treeLazyType?"hasChildren":""},load:e.treeLoad,"row-style":e.rowStyle,"cell-style":e.cellStyle,"has-c":e.hasBatchBtn,"span-method":e.arraySpanMethod,"header-cell-class-name":e.handleHeaderClass,hasNO:!(2==e.columnData.childTableStyle&&e.childColumnList.length&&3!=e.columnData.type)&&4!=e.columnData.type,hasNOFixed:e.columnList.some((function(e){return"left"==e.fixed}))},on:{"sort-change":e.handleTableSort,"selection-change":e.handleSelectionChange}},[2==e.columnData.childTableStyle&&e.childColumnList.length&&1==e.columnData.type&&2==e.columnData.type?[i("el-table-column",{attrs:{width:"0"}}),i("el-table-column",{attrs:{type:"expand",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tabs",e._l(e.childColumnList,(function(n,a){return i("el-tab-pane",{key:a,attrs:{label:n.label}},[i("el-table",{attrs:{data:t.row[n.prop],size:"mini"}},e._l(n.children,(function(t,n){return i("el-table-column",{key:n,attrs:{prop:t.vModel,label:t.childLabel,align:t.align,width:t.width,"show-overflow-tooltip":!!e.columnData.showOverflow}})})),1)],1)})),1)]}}],null,!1,1619817037)}),i("el-table-column",{attrs:{type:"index",width:"50",label:"序号",align:"center"}})]:e._e(),e._l(e.columnList,(function(t,n){return["table"===t.jnpfKey?[i("el-table-column",{key:n,attrs:{prop:t.prop,label:t.label,align:t.align}},e._l(t.children,(function(n,a){return i("el-table-column",{key:a,attrs:{prop:n.prop,label:n.childLabel,align:n.align,width:n.width,sortable:n.sortable?"custom":n.sortable,"class-name":"child-table-box"},scopedSlots:e._u([{key:"default",fn:function(n){return[a?e._e():i("child-table-column",{attrs:{data:n.row[t.prop],head:t.children,showOverflow:!!e.columnData.showOverflow,expand:n.row[t.prop+"Expand"]},on:{toggleExpand:function(i){return e.toggleExpand(n.row,t.prop+"Expand")},toDetail:e.toDetail}})]}}],null,!0)})})),1)]:"complexHeader"===t.jnpfKey?[i("el-table-column",{key:n,attrs:{prop:t.id,label:t.label,align:t.align}},[e._l(t.children,(function(t,n){return["inputNumber"===t.jnpfKey||"calculate"===t.jnpfKey?i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,align:t.align,width:t.width,"show-overflow-tooltip":!!e.columnData.showOverflow,sortable:t.sortable?"custom":t.sortable},scopedSlots:e._u([{key:"default",fn:function(n){return[n.row[t.id]?[i("JnpfNumber",{attrs:{thousands:t.thousands,precision:t.precision},model:{value:n.row[t.id],callback:function(i){e.$set(n.row,t.id,i)},expression:"scope.row[child.id]"}})]:e._e()]}}],null,!0)}):"sign"===t.jnpfKey?i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,align:t.align,width:t.width,"show-overflow-tooltip":!!e.columnData.showOverflow,sortable:t.sortable?"custom":t.sortable},scopedSlots:e._u([{key:"default",fn:function(n){return[n.row[t.id]?[i("JnpfSign",{attrs:{detailed:""},model:{value:n.row[t.id],callback:function(i){e.$set(n.row,t.id,i)},expression:"scope.row[child.id]"}})]:e._e()]}}],null,!0)}):"rate"===t.jnpfKey?i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,align:t.align,width:t.width},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfRate",{attrs:{detailed:"",disabled:"",count:t.count},model:{value:n.row[t.id],callback:function(i){e.$set(n.row,t.id,i)},expression:"scope.row[child.id]"}})]}}],null,!0)}):"slider"===t.jnpfKey?i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,align:t.align,width:t.width},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfSlider",{attrs:{detailed:"",disabled:""},model:{value:n.row[t.id],callback:function(i){e.$set(n.row,t.id,i)},expression:"scope.row[child.id]"}})]}}],null,!0)}):i("el-table-column",{key:n,attrs:{prop:t.prop,label:t.label,align:t.align,width:t.width}})]}))],2)]:"sign"===t.jnpfKey?i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,align:t.align,width:t.width,"show-overflow-tooltip":!!e.columnData.showOverflow,sortable:t.sortable?"custom":t.sortable},scopedSlots:e._u([{key:"default",fn:function(n){return[n.row[t.id]?[i("JnpfSign",{attrs:{detailed:""},model:{value:n.row[t.id],callback:function(i){e.$set(n.row,t.id,i)},expression:"scope.row[item.id]"}})]:e._e()]}}],null,!0)}):"rate"===t.jnpfKey?i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,align:t.align,width:t.width},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfRate",{attrs:{detailed:"",disabled:"",count:t.count},model:{value:n.row[t.id],callback:function(i){e.$set(n.row,t.id,i)},expression:"scope.row[item.id]"}})]}}],null,!0)}):"slider"===t.jnpfKey?i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,align:t.align,width:t.width},scopedSlots:e._u([{key:"default",fn:function(n){return[i("JnpfSlider",{attrs:{detailed:"",disabled:""},model:{value:n.row[t.id],callback:function(i){e.$set(n.row,t.id,i)},expression:"scope.row[item.id]"}})]}}],null,!0)}):i("el-table-column",{key:n,attrs:{prop:t.prop,label:t.label,align:t.align,"show-overflow-tooltip":!!e.columnData.showOverflow,fixed:e.columnList.some((function(e){return"left"==e.fixed}))&&0==n&&e.columnData.groupField&&3==e.columnData.type?"left":"none"!=t.fixed&&2!=e.columnData.childTableStyle&&t.fixed,width:t.width,sortable:t.sortable?"custom":t.sortable}})]})),i("el-table-column",{attrs:{label:"操作",fixed:(2!=e.columnData.childTableStyle||!e.childColumnList.length)&&"right",width:e.operationWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){return e.columnBtnHandel(t.row)}}},[e._v("\n                  详情")])]}}],null,!1,2099037684)})],2):e._e(),3!==e.columnData.type&&5!==e.columnData.type&&e.columnData.hasPage&&e.refreshTable?[i("pagination",{attrs:{total:e.total,page:e.listQuery.currentPage,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"currentPage",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.initData}})]:e._e()],2)],1)],1)]),i("Detail",{directives:[{name:"show",rawName:"v-show",value:e.detailVisible,expression:"detailVisible"}],ref:"Detail",on:{close:function(t){e.detailVisible=!1}}}),i("candidate-form",{attrs:{visible:e.candidateVisible,candidateList:e.candidateList,branchList:e.branchList,taskId:"0",formData:e.workFlowFormData,isCustomCopy:e.isCustomCopy},on:{"update:visible":function(t){e.candidateVisible=t},submitCandidate:e.submitCandidate}})],1)},a=[],o=(i("20d6"),i("386d"),i("ade3")),l=(i("a481"),i("28a5"),i("5530")),s=(i("d263"),i("2909")),r=(i("2fdb"),i("456d"),i("ac6a"),i("c7eb")),c=(i("55dd"),i("96cf"),i("1da1")),_=(i("6762"),i("ef22")),f=i("826a"),d=i("9b6f"),u=i("17de"),p=(i("2934"),i("100e")),m=i("e200"),h=i("37a8"),g=i("226a"),b=i("6ba2"),v=i("0c2e"),y=i("aa85"),w=i("7f65"),x=i("4d3d"),k=i("a7bd"),C=i("1374"),L=i("f8c0"),j=i("d044"),D=i.n(j),F=i("8237"),S=i.n(F),O=function(e){if(!e.__config__||!e.__config__.jnpfKey)return!0;var t=e.__config__.jnpfKey,i=["input","textarea","inputNumber","switch","datePicker","timePicker","colorPicker","rate","slider","editor","link","text","alert","table","collapse","collapseItem","tabItem","tab","row","card","groupTitle","divider","tableGrid","tableGridTr","tableGridTd","sign","location"],n=["radio","checkbox","select","cascader","treeSelect"];return!!(i.includes(t)||n.includes(t)&&"static"===e.__config__.dataType)},$={name:"dynamicModel",components:{Form:h["default"],ExportBox:v["a"],Search:y["default"],Detail:b["default"],FlowBox:g["default"],ChildTableColumn:w["default"],SuperQuery:x["a"],CandidateForm:k["default"],CustomBox:C["a"]},props:["config","modelId","isPreview","encryption"],data:function(){return{systemComponentsList:p["j"],keyword:"",treeProps:{children:"children",label:"fullName",value:"id",isLeaf:"isLeaf"},list:[],cacheList:[],total:0,listLoading:!1,listQuery:{currentPage:1,pageSize:20,sort:"desc",sidx:"",menuId:"",queryJson:"",superQueryJson:""},defaultListQuery:{pageSize:20,sort:"desc",sidx:""},flowVisible:!1,formVisible:!1,detailVisible:!1,importBoxVisible:!1,exportBoxVisible:!1,uploadBoxVisible:!1,customBoxVisible:!1,superQueryVisible:!1,treeData:[],expandsTree:!0,treeActiveId:"",columnData:{columnBtnsList:[]},formData:{},columnList:[],childColumnList:[],columnOptions:[],exportList:[],columnBtnsList:[],customBtnsList:[],hasBatchBtn:!1,refreshTable:!1,expandsTable:!0,multipleSelection:[],settingsColumnList:[],mergeList:[],expandObj:{},flowTemplateJson:{},isCustomCopy:!1,candidateVisible:!1,candidateType:1,branchList:[],candidateList:[],currRow:{},workFlowFormData:{},rowStyle:null,cellStyle:null,refreshTree:!0,searchList:[],dataList:[],formLink:"",columnPassUse:1,password:"",passwordLoading:!1,id:"",ordersList:[]}},computed:{operationWidth:function(){var e=this.customBtnsList.length?50:0;return 50*this.columnBtnsList.length+e}},watch:{keyword:function(e){1==this.columnData.treeMethod&&this.$refs.treeBox.filter(e)}},created:function(){var e=this;Object(L["c"])(this.modelId,this.encryption).then((function(t){e.searchList=t.data.columnCondition?JSON.parse(t.data.columnCondition):[],e.addSearchList(),e.dataList=t.data.columnText?JSON.parse(t.data.columnText):[],e.formLink=t.data.formLink||"",e.id=t.data.id||0,e.columnPassUse=t.data.columnPassUse||0,1!=e.columnPassUse&&e.init()}))},methods:{init:function(){var e=Object(c["a"])(Object(r["a"])().mark((function e(){var t=this;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.listLoading=!0,this.listQuery.menuId=this.modelId,this.refreshTable=!1,this.config.columnData&&this.config.formData){e.next=5;break}return e.abrupt("return");case 5:if(this.columnData=JSON.parse(this.config.columnData),this.columnData.type=1,this.columnData.searchList=this.searchList,3===this.columnData.type&&(this.columnData.columnList=this.columnData.columnList.filter((function(e){return e.prop!=t.columnData.groupField}))),1==this.config.enableFlow&&(this.flowTemplateJson=this.config.flowTemplateJson?JSON.parse(this.config.flowTemplateJson):{},this.isCustomCopy=this.flowTemplateJson.properties&&this.flowTemplateJson.properties.isCustomCopy),this.hasBatchBtn=this.columnData.btnsList.some((function(e){return"batchRemove"==e.value})),this.formData=JSON.parse(this.config.formData),this.formData.fields=this.recurSiveFilter(this.formData.fields),this.listLoading=!0,this.isPreview&&(this.listQuery.menuId="270579315303777093"),this.rowStyle=this.jnpf.getScriptFunc.call(this,this.columnData.funcs&&this.columnData.funcs.rowStyle),this.cellStyle=this.jnpf.getScriptFunc.call(this,this.columnData.funcs&&this.columnData.funcs.cellStyle),this.getColumnList(),this.$nextTick((function(){t.refreshTable=!0})),!this.isPreview){e.next=21;break}return e.abrupt("return",this.listLoading=!1);case 21:this.listQuery.pageSize=this.columnData.pageSize,this.listQuery.sort=this.columnData.sort,this.listQuery.sidx=this.columnData.defaultSidx,this.defaultListQuery.pageSize=this.columnData.pageSize,this.defaultListQuery.sort=this.columnData.sort,this.defaultListQuery.sidx=this.columnData.defaultSidx,3!==this.columnData.type&&this.columnData.hasPage||(this.listQuery.pageSize=1e4),this.initData(),this.setDefaultQuery(this.columnData.defaultSortConfig);case 30:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setDefaultQuery:function(e){var t=(e||[]).map((function(e){return("desc"===e.sort?"-":"")+e.field}));this.listQuery.sidx=t.join(",")},addSearchList:function(){for(var e={label:"关键词",__config__:{jnpfKey:"input"},value:void 0,id:"jnpfKeyword",prop:"jnpfKeyword"},t=0;t<this.searchList.length;t++){var i=this.searchList[t];if(i.isKeyword)return this.searchList.unshift(e)}},recurSiveFilter:function(e){var t=this,i=e.filter((function(e){return O(e)}));return i.forEach((function(e){return e.__config__&&e.__config__.children&&Array.isArray(e.__config__.children)&&(e.__config__.children=t.recurSiveFilter(e.__config__.children))})),i},initDefaultSearchData:function(){var e=this.columnData.searchList;if(null!=e&&e.length>0){for(var t={},i=0,n=e.length;i<n;i++)if("datePicker"===e[i].jnpfKey&&1==e[i].__config__.defaultCurrent){var a=new Date;a.setHours(0,0,0,0);var o=new Date;o.setHours(23,59,59,999),t[e[i].__vModel__]=[a.getTime(),o.getTime()]}else"organizeSelect"===e[i].jnpfKey&&1==e[i].__config__.defaultCurrent?this.userInfo.organizeIdList instanceof Array&&this.userInfo.organizeIdList.length>0?t[e[i].__vModel__]=1==e[i].searchMultiple?[this.userInfo.organizeIdList]:this.userInfo.organizeIdList:t[e[i].__vModel__]=[]:"depSelect"===e[i].jnpfKey&&1==e[i].__config__.defaultCurrent&&null!=this.userInfo.departmentId&&""!=this.userInfo.departmentId?null!=e[i].__config__.defaultValue&&(t[e[i].__vModel__]=e[i].__config__.defaultValue):"userSelect"===e[i].__config__.jnpfKey&&1==e[i].__config__.defaultCurrent&&null!=e[i].__config__.defaultValue&&(t[e[i].__vModel__]=e[i].__config__.defaultValue);Object.keys(t).length>0&&(this.listQuery.queryJson=JSON.stringify(t))}},initData:function(){var e=this;this.isPreview||(this.listLoading=!0,Object(L["f"])(this.modelId,this.listQuery,this.encryption).then((function(t){e.list=t.data.list,3!==e.columnData.type&&e.columnData.hasPage&&(e.total=t.data.pagination.total),e.listLoading=!1})))},handleLogin:function(){var e=this;if(this.passwordLoading=!0,!this.password)return this.$message({message:"请输入验证码",type:"error"}),void(this.passwordLoading=!1);var t={id:this.id,type:1,encryption:this.encryption,password:S()(this.password)};Object(L["a"])(t).then((function(t){e.passwordLoading=!1,200==t.code&&(e.columnPassUse=0,e.init())})).catch((function(){e.passwordLoading=!1}))},getQRimg:function(){this.formLink&&(this.$refs.qrCode.innerHTML="",this.qrcode=new D.a(this.$refs.qrCode,{width:150,height:150,text:this.formLink,correctLevel:D.a.CorrectLevel.H}))},toDetail:function(e,t){var i=this;t&&(this.mainLoading=!0,Object(_["m"])(e.modelId).then((function(n){if(i.mainLoading=!1,n.data&&n.data.formData){var a=JSON.parse(n.data.formData);a.popupType=i.formData.popupType,i.detailVisible=!0,i.$nextTick((function(){i.$refs.Detail.init(a,e.modelId,t)}))}})).catch((function(){i.mainLoading=!1})))},getTreeView:function(){var e=this;if("dictionary"===this.columnData.treeDataSource){if(!this.columnData.treeDictionary)return;Object(d["i"])(this.columnData.treeDictionary).then((function(t){e.treeData=t.data.list,e.initData()}))}if("organize"===this.columnData.treeDataSource&&this.$store.dispatch("generator/getDepTree").then((function(t){e.treeData=t,e.initData()})),"department"===this.columnData.treeDataSource&&this.$store.dispatch("generator/getDepTree").then((function(t){e.treeData=t,e.initData()})),"api"===this.columnData.treeDataSource){if(!this.columnData.treePropsUrl)return;Object(u["o"])(this.columnData.treePropsUrl).then((function(t){e.treeData=Array.isArray(t.data)?t.data:[],e.initData()}))}},getColumnList:function(){[3,5].includes(this.columnData.type)||(this.dataList=this.getComplexColumns(this.dataList)),this.columnList=this.transformColumnList(this.dataList)},getComplexColumns:function(e){var t=this.columnData.complexHeaderList||[];if(!t.length)return e;for(var i=[],n=0;n<t.length;n++){var a=t[n];if(a.label=a.fullName,a.align=a.align,a.dataIndex=a.id,a.prop=a.id,a.children=[],a.jnpfKey="complexHeader",a.sortable=!1,a.childColumns&&a.childColumns.length){i.push.apply(i,Object(s["a"])(a.childColumns));for(var o=0;o<e.length;o++){var r=e[o];a.childColumns.includes(r.__vModel__)&&"left"!==r.fixed&&"right"!==r.fixed&&a.children.push(Object(l["a"])({},r))}}}t=t.filter((function(e){return e.children.length}));for(var c=0;c<e.length;c++){var _=e[c];i.includes(_.__vModel__)||t.push(_)}return t},transformColumnList:function(e){for(var t=this,i=[],n=function(){var n=e[a];if(n.prop.includes("-")){var o=n.prop.split("-")[0],l=n.prop.split("-")[1],s=n.label.split("-")[0],r=n.label.replace(s+"-",""),c={align:"center",jnpfKey:"table",prop:o,label:s,children:[]};n.vModel=l,n.childLabel=r,t.expandObj.hasOwnProperty("".concat(o,"Expand"))||t.$set(t.expandObj,"".concat(o,"Expand"),!1),i.some((function(e){return e.prop===o}))||i.push(c);for(var _=0;_<i.length;_++)if(i[_].prop===o){i[_].children.push(n);break}}else i.push(n)},a=0;a<e.length;a++)n();return this.getMergeList(i),this.getExportList(i),this.childColumnList=i.filter((function(e){return"table"===e.jnpfKey})),i},getExportList:function(e){for(var t=[],i=0;i<e.length;i++)if("table"===e[i].jnpfKey)for(var n=0;n<e[i].children.length;n++)t.push(e[i].children[n]);else t.push(e[i]);this.exportList=t},getMergeList:function(e){var t=this;e.forEach((function(e){e.children&&e.children.length>0&&"table"==e.jnpfKey?e.children.forEach((function(i,n){0==n?t.mergeList.push({prop:i.prop,rowspan:1,colspan:e.children.length}):t.mergeList.push({prop:i.prop,rowspan:0,colspan:0})})):t.mergeList.push({prop:e.prop,rowspan:1,colspan:1})}))},arraySpanMethod:function(e){for(var t=e.column,i=0;i<this.mergeList.length;i++)if(t.property==this.mergeList[i].prop)return[this.mergeList[i].rowspan,this.mergeList[i].colspan]},toggleExpand:function(e,t){e[t]=!e[t]},getNodePath:function(e){var t=[],i=function e(i){i.level&&t.unshift(i.data),i.parent&&e(i.parent)};return i(e),t},handleNodeClick:function(e,t){var i=this;if(this.treeActiveId!=e[this.treeProps.value]){this.treeActiveId=e[this.treeProps.value],this.$refs.Search.treeReset();var n={};if("organize"===this.columnData.treeDataSource){var a=this.getNodePath(t),l=a.map((function(e){return e[i.treeProps.value]}));n=Object(o["a"])({},this.columnData.treeRelation,l),this.treeActiveId=l}else n=Object(o["a"])({},this.columnData.treeRelation,e[this.treeProps.value]);this.search(JSON.stringify(n))}},handleDel:function(e,t){var i=this;this.$confirm(this.$t("common.delTip"),this.$t("common.tipTitle"),{type:"warning"}).then((function(){e?Object(_["j"])(i.modelId,e).then((function(e){i.$message({type:"success",message:e.msg,duration:1e3,onClose:function(){i.initData()}})})):i.list.splice(t,1)})).catch((function(){}))},saveForRowEdit:function(e,t,i){var n=this;if(this.isPreview)return this.$message({message:"功能预览不支持数据保存",type:"warning"});if(1==this.config.enableFlow){var a={id:e.id,status:t||"1",candidateType:this.candidateType,formData:e,flowId:this.config.flowId,flowUrgent:1};i&&(a=Object(l["a"])(Object(l["a"])({},a),i));var o=a.id?f["c"]:f["a"];o(a).then((function(e){n.$message({message:e.msg,type:"success",duration:1500,onClose:function(){n.candidateVisible=!1,n.initData()}})}))}else{var s={id:e.id,data:JSON.stringify(e)},r=s.id?_["y"]:_["i"];r(this.modelId,s).then((function(e){n.$message({message:e.msg,type:"success",duration:1500,onClose:function(){n.candidateVisible=!1,n.initData()}})}))}},submitForRowEdit:function(e){var t=this;if(this.currRow=e,this.isPreview)return this.$message({message:"功能预览不支持数据保存",type:"warning"});this.workFlowFormData={id:e.id,formData:e,flowId:this.config.flowId},Object(m["g"])(0,this.workFlowFormData).then((function(i){var n=i.data;if(t.candidateType=n.type,1==n.type)t.branchList=i.data.list.filter((function(e){return e.isBranchFlow})),t.candidateList=i.data.list.filter((function(e){return!e.isBranchFlow&&e.isCandidates})),t.candidateVisible=!0;else if(2==n.type)t.branchList=[],t.candidateList=i.data.list.filter((function(e){return e.isCandidates})),t.candidateVisible=!0;else{if(t.isCustomCopy)return t.branchList=[],t.candidateList=[],void(t.candidateVisible=!0);t.$confirm("您确定要提交当前流程吗, 是否继续?","提示",{type:"warning"}).then((function(){t.saveForRowEdit(e,"0")})).catch((function(){}))}})).catch((function(){}))},submitCandidate:function(e){this.saveForRowEdit(this.currRow,"0",e)},cancelRowEdit:function(e,t){if(!e.id)return this.list.splice(t,1);e.rowEdit=!1;var i=JSON.parse(JSON.stringify(this.cacheList[t]));this.$set(this.list,t,i)},addHandleForRowEdit:function(){for(var e={rowEdit:!0},t=0;t<this.columnData.columnList.length;t++){var i=this.columnData.columnList[t];e[i.__vModel__]=i.__config__.defaultValue}this.list.unshift(e)},addOrUpdateHandle:function(e){var t=this;if(1==this.config.enableFlow){var i={id:e||"",enCode:this.config.flowEnCode,flowId:this.config.flowId,formType:2,type:1,opType:"-1",modelId:this.modelId,isPreview:this.isPreview,formConf:JSON.stringify(this.formData)};this.flowVisible=!0,this.$nextTick((function(){t.$refs.FlowBox.init(i)}))}else this.formVisible=!0,this.$nextTick((function(){t.$refs.Form.init(t.formData,t.modelId,e,t.isPreview,t.columnData.useFormPermission)}))},headBtnsHandel:function(e){var t=this;"add"===e&&(4===this.columnData.type?this.addHandleForRowEdit():this.addOrUpdateHandle()),"download"==e&&(this.exportBoxVisible=!0,this.$nextTick((function(){t.$refs.ExportBox.init(t.exportList)}))),"upload"==e&&(this.uploadBoxVisible=!0,this.$nextTick((function(){t.$refs.UploadBox.init(t.modelId)}))),this.isPreview||"batchRemove"===e&&this.batchRemove()},handleSelectionChange:function(e){var t=e.map((function(e){return e.id}));this.multipleSelection=t},batchRemove:function(){var e=this;this.multipleSelection.length?this.$confirm("您确定要删除这些数据吗, 是否继续?","提示",{type:"warning"}).then((function(){Object(_["h"])(e.modelId,e.multipleSelection).then((function(t){e.$message({type:"success",message:t.msg,duration:1500,onClose:function(){e.initData()}})}))})).catch((function(){})):this.$message({type:"error",message:"请选择一条数据",duration:1500})},download:function(e){var t=this;if(this.isPreview)return this.$message({message:"功能预览不支持数据导出",type:"warning"});var i=Object(l["a"])(Object(l["a"])({},this.listQuery),e);Object(_["l"])(this.modelId,i).then((function(e){e.data.url&&(t.jnpf.downloadFile(e.data.url),t.$refs.ExportBox.visible=!1,t.exportBoxVisible=!1)}))},columnBtnHandel:function(e){this.goDetail(e.id,e)},goDetail:function(e,t){var i=this;this.detailVisible=!0,this.$nextTick((function(){i.$refs.Detail.init(i.formData,i.modelId,e,i.encryption)}))},handleHeaderClass:function(e){var t=e.column;t.order=t.multiOrder},handleOrderChange:function(e,t){var i=this.ordersList.findIndex((function(t){return t.field===e})),n="ascending"===t?"asc":"descending"===t?"desc":"";i>-1?this.ordersList[i].sort=t:this.ordersList.push({field:e,sort:n}),this.ordersList=this.ordersList.filter((function(e){return e.sort})),this.setDefaultQuery(this.ordersList),this.initData()},handleTableSort:function(e){var t=e.column;"custom"===t.sortable&&(t.multiOrder="descending"===t.multiOrder?"ascending":t.multiOrder?"":"descending",this.handleOrderChange(t.property,t.multiOrder))},refresh:function(e){this.formVisible=!1,e&&this.initData()},closeFlow:function(e){this.flowVisible=!1,e&&this.initData()},reset:function(){this.listQuery.sort=this.defaultListQuery.sort,this.listQuery.sidx=this.defaultListQuery.sidx,this.search("")},searchData:function(e){this.search(e)},search:function(e){this.listQuery.queryJson=e,this.listQuery.currentPage=1,this.setDefaultQuery(this.ordersList),this.initData()},openSuperQuery:function(){var e=this;this.superQueryVisible=!0,this.$nextTick((function(){e.$refs.SuperQuery.init()}))},superQuery:function(e){this.isPreview||(this.listQuery.superQueryJson=e,this.listQuery.currentPage=1,this.initData())},customBtnsHandel:function(e,t,i){1==e.btnType&&this.handlePopup(e,t,i),2==e.btnType&&this.handleScriptFunc(e,t,i),3==e.btnType&&this.handleInterface(e,t,i)},handlePopup:function(e,t,i){var n=this;this.customBoxVisible=!0,this.$nextTick((function(){n.$refs.CustomBox.init(e,n.modelId,t.id,n.isPreview)}))},handleScriptFunc:function(e,t,i){var n={data:t,index:i,refresh:this.initData,onlineUtils:this.jnpf.onlineUtils},a=this.jnpf.getScriptFunc.call(this,e.func);a&&a.call(this,n)},handleInterface:function(e,t,i){var n=this,a=function(){e.templateJson&&e.templateJson.length&&e.templateJson.forEach((function(e){e.defaultValue=t[e.relationField]||""}));var i={paramList:e.templateJson||[]};Object(u["o"])(e.interfaceId,i).then((function(e){n.$message({message:e.msg,type:"success"})}))};if(!e.useConfirm)return a();this.$confirm(e.confirmTitle||"确认执行此操作","提示",{type:"warning"}).then((function(){a()})).catch((function(){}))},setTableLoadFunc:function(){var e=this.$refs.tableRef.$refs.JNPFTable,t={data:this.list,tableRef:e,onlineUtils:this.jnpf.onlineUtils},i=this.jnpf.getScriptFunc.call(this,this.columnData.funcs.afterOnload);i&&i.call(this,t)},filterNode:function(e,t){return!e||-1!==t[this.treeProps.label].indexOf(e)},toggleTreeExpand:function(e){var t=this;this.refreshTree=!1,this.expandsTree=e,this.$nextTick((function(){t.refreshTree=!0,t.$nextTick((function(){t.$refs.treeBox.setCurrentKey(null)}))}))},toggleExpandList:function(){var e=this;this.refreshTable=!1,this.expandsTable=!this.expandsTable,this.$nextTick((function(){e.refreshTable=!0}))},loadNode:function(e,t){var i=e.data,n=this.columnData;if(n.treeInterfaceId){if(n.treeTemplateJson&&n.treeTemplateJson.length)for(var a=0;a<n.treeTemplateJson.length;a++){var o=n.treeTemplateJson[a];o.defaultValue=i[o.relationField]||""}var l={paramList:n.treeTemplateJson||[]};Object(u["o"])(n.treeInterfaceId,l).then((function(e){var i=e.data;Array.isArray(i)?t(i):t([])}))}},treeLoad:function(e,t,i){var n=this;Object(_["t"])(this.modelId,e.id,this.listQuery).then((function(e){if(e.data.list&&Array.isArray(e.data.list)){var t=e.data.list.map((function(e){return Object(l["a"])(Object(l["a"])(Object(l["a"])({},e),n.expandObj),{},{hasChildren:!0})}));i(t)}else i([])}))}}},T=$,M=(i("8e2b"),i("2877")),I=Object(M["a"])(T,n,a,!1,null,"87c052b2",null);t["default"]=I.exports},e9f0:function(e,t,i){},f8c0:function(e,t,i){"use strict";i.d(t,"g",(function(){return a})),i.d(t,"h",(function(){return o})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"b",(function(){return c})),i.d(t,"e",(function(){return _})),i.d(t,"f",(function(){return f}));var n=i("b775");function a(e){return Object(n["a"])({url:"/api/visualdev/ShortLink/".concat(e),method:"get"})}function o(e){return Object(n["a"])({url:"/api/visualdev/ShortLink",method:"PUT",data:e})}function l(e,t){return Object(n["a"])({url:"/api/visualdev/ShortLink/getConfig/".concat(e)+(t?"?encryption="+t:""),method:"get"})}function s(e){return Object(n["a"])({url:"/api/visualdev/ShortLink/checkPwd",method:"post",data:e})}function r(e,t){return Object(n["a"])({url:"/api/visualdev/ShortLink/".concat(e,"/Config")+(t?"?encryption="+t:""),method:"get"})}function c(e,t,i){return Object(n["a"])({url:"/api/visualdev/ShortLink/".concat(e)+(i?"?encryption="+i:""),method:"POST",data:t})}function _(e,t,i){return Object(n["a"])({url:"/api/visualdev/ShortLink/".concat(e,"/").concat(t,"/DataChange")+(i?"?encryption="+i:""),method:"GET"})}function f(e,t,i){return Object(n["a"])({url:"/api/visualdev/ShortLink/".concat(e,"/ListLink")+(i?"?encryption="+i:""),method:"post",data:t})}},ff78:function(e,t,i){}}]);